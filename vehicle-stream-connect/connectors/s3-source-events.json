{
    "name": "vehicle-event-s3-source",
    "config": {
        "connector.class": "io.confluent.connect.s3.source.S3SourceConnector",
        "tasks.max": "1",

        "store.url": "http://minio:9000",
        "s3.bucket.name": "raw",
        "s3.region": "us-east-1",
        "s3.path.style.access": "true",
        "aws.access.key.id": "minioadmin",
        "aws.secret.access.key": "minioadmin",

        "format.class": "io.confluent.connect.s3.format.json.JsonFormat",

        "mode": "GENERIC",
        "topics.dir": "data/events",
        "topic.regex.list": "vehicle-event-json:.*",

        "confluent.topic.bootstrap.servers": "kafka:9092,kafka1:9192",
        "confluent.topic.replication.factor": "2",

        "key.converter": "org.apache.kafka.connect.storage.StringConverter",
        "value.converter": "org.apache.kafka.connect.json.JsonConverter",
        "value.converter.schemas.enable": "false",

        "transforms": "SetKey,ExtractKey",
        "transforms.SetKey.type": "org.apache.kafka.connect.transforms.ValueToKey",
        "transforms.SetKey.fields": "vehicle_id",
        "transforms.ExtractKey.type": "org.apache.kafka.connect.transforms.ExtractField$Key",
        "transforms.ExtractKey.field": "vehicle_id"
    }
}